PROGRAM-1

Create Table Queries:-

SQL> CREATE TABLE STUDENT(SNUM INT PRIMARY KEY, SNAME VARCHAR(20), MAJOR VARCHAR(20), LEVEL1 VARCHAR(2), AGE INT);

SQL> CREATE TABLE FACULTY(FID INT PRIMARY KEY, FNAME VARCHAR(20), DEPTID INT);

SQL> CREATE TABLE CLASS(NAME VARCHAR(20) PRIMARY KEY, MEETSAT VARCHAR(10), ROOM VARCHAR(10),D INT, FOREIGN KEY (D) REFERENCES FACULTY(FID));

SQL> CREATE TABLE ENROLLED(SNUM INT, CNAME VARCHAR(20), PRIMARY KEY(SNUM,CNAME), FOREIGN KEY (SNUM) REFERENCES STUDENT(SNUM), FOREIGN KEY (CNAME) REFERENCES CLASS(NAME));

Insertion Values:-

SQL> INSERT INTO STUDENT VALUES (&SNUM, ‘&SNAME’, ‘&MAJOR’, ‘&LEVEL1’, &AGE); 
SQL> INSERT INTO FACULTY VALUES (&FID, ‘&FNAME’, &DEPTID); 
SQL> INSERT INTO CLASS VALUES (‘&NAME’, ‘&MEETSAT’, ‘&ROOM’, &D); 
SQL> INSERT INTO ENROLLED VALUES (&SNUM, ‘&CNAME’);

INSERT INTO STUDENT VALUES(11,'KIRAN','CSE','SR',20);
INSERT INTO STUDENT VALUES(22,'AKASH','CSE','SR',21);
INSERT INTO STUDENT VALUES(33,'SHAKTHI','CSE','JR',19);
INSERT INTO STUDENT VALUES(44,'ROOPA','IS','JR',18);
INSERT INTO STUDENT VALUES(55,'VINAY','IS','JR',20);
INSERT INTO STUDENT VALUES(66,'VIN','IS','JR',20);
INSERT INTO STUDENT VALUES(77,'sam','IS','JR',20);
INSERT INTO STUDENT VALUES(88,'ram','IS','JR',20);

INSERT INTO FACULTY VALUES(1,'Prof. SMITHU',10);
INSERT INTO FACULTY VALUES(2,'Prof. SUNITHA',10);
INSERT INTO FACULTY VALUES(3,'Prof. NETHU',20);
INSERT INTO FACULTY VALUES(4,'Prof. Harshith',1);
INSERT INTO FACULTY VALUES(5,'Prof. SARITHA',10);

INSERT INTO CLASS VALUES('os', '10AM', '101', 1);
INSERT INTO CLASS VALUES('dbms', '10AM', '102', 2);
INSERT INTO CLASS VALUES('LD', '10AM', '103', 3);
INSERT INTO CLASS VALUES('JAVA', '10AM', '104', 4);
INSERT INTO CLASS VALUES('DSA', '10AM', 'R128', 1);

INSERT INTO ENROLLED VALUES (11,'os');
INSERT INTO ENROLLED VALUES (33, 'os');
INSERT INTO ENROLLED VALUES (44, 'JAVA');
INSERT INTO ENROLLED VALUES (22, 'os');
INSERT INTO ENROLLED VALUES (55, 'DSA');
INSERT INTO ENROLLED VALUES (66, 'os');
INSERT INTO ENROLLED VALUES (77, 'os');
INSERT INTO ENROLLED VALUES (88, 'os');


c)Find the names of all Juniors (level = JR) who are enrolled in a class taught by Prof. Harshith

SQL> SELECT DISTINCT S.SNAME FROM STUDENT S, CLASS C, ENROLLED E, FACULTY F WHERE S.SNUM = E.SNUM AND E.CNAME = C.NAME AND C.D = F.FID AND F.FNAME = ‘Prof. Harshith’ AND S.LEVEL = ‘JR’;

d)Find the names of all classes that either meet in room R128 or have five or more Students enrolled.

SQL> SELECT C.NAME FROM CLASS C WHERE C.ROOM = ‘R128’ OR C.NAME IN (SELECT E.CNAME FROM ENROLLED E GROUP BY E.CNAME HAVING COUNT (*) >= 5);

e)	Find the names of faculty members for whom the combined enrollment of the courses that they teach is less than five.

SQL> SELECT DISTINCT F.FNAME FROM FACULTY F WHERE 5 > (SELECT COUNT (E.SNUM) FROM CLASS C, ENROLLED E WHERE C.CNAME = E.CNAME AND C.FID = F.FID);




